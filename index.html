<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OoT Bingo → Bingosync</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">

    <header>
      <h1>OoT Bingo → Bingosync</h1>
      <p>Generate JSON for Bingosync Custom Board</p>
    </header>

    <main>

      <!-- ── Step 1: URL Input ── -->
      <div class="card">
        <p class="card-title">Paste your OoT Bingo URL</p>
        <div class="input-row">
          <input type="url" id="bingo-url"
            placeholder="https://ootbingo.github.io/bingo/bingo.html?version=10.5.1&seed=155101&mode=normal"
            autocomplete="off" spellcheck="false">
          <button class="btn" id="convert-btn" onclick="convert()">Convert</button>
        </div>
        <div id="status-bar" class="status-bar"></div>
      </div>

      <!-- ── Step 2: Board Preview + JSON ── -->
      <div class="card hidden" id="output-section">
        <p class="card-title">Board Preview &amp; JSON</p>

        <div class="meta-strip" id="meta-strip"></div>

        <div class="board-grid" id="board-preview"></div>

        <hr>

        <div class="json-label">
          <span>Bingosync Custom Goals JSON <span id="goal-count" style="color:var(--text-muted)"></span></span>
        </div>
        <textarea id="json-output" readonly spellcheck="false" aria-label="Bingosync custom goals JSON"></textarea>

        <div class="actions">
          <button class="btn" id="copy-btn" onclick="copyJson()">Copy JSON</button>
          <button class="btn outline" onclick="downloadJson()">Download JSON</button>
        </div>
      </div>

      <!-- ── Step 3: Create BingoSync Room ── -->
      <div class="card hidden" id="instructions-section">
        <p class="card-title">Create your Bingosync Room</p>

        <button class="btn btn-launch" id="launch-btn" onclick="openBingoSync()">
          Copy JSON &amp; Open Bingosync
        </button>
      </div>

    </main>

  </div>

  <script src="app.js"></script>
</body>

</html>
